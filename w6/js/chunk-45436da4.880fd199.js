(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45436da4"],{1517:function(e,t,n){
/*!
  * Bootstrap offcanvas.js v5.0.1 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,r){e.exports=r(n("848f"),n("109e"),n("6ee1"),n("6a95"),n("302d"))})(0,(function(e,t,n,r,c){"use strict";function o(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var i=o(e),a=o(t),s=o(n),d=o(r),l=o(c);const u=1e3,b="transitionend",f=e=>null===e||void 0===e?""+e:{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),m=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#"+n.split("#")[1]),t=n&&"#"!==n?n.trim():null}return t},p=e=>{const t=m(e);return t?document.querySelector(t):null},h=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),c=Number.parseFloat(n);return r||c?(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*u):0},g=e=>{e.dispatchEvent(new Event(b))},O=e=>!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType),j=(e,t)=>{let n=!1;const r=5,c=t+r;function o(){n=!0,e.removeEventListener(b,o)}e.addEventListener(b,o),setTimeout(()=>{n||g(e)},c)},v=(e,t,n)=>{Object.keys(n).forEach(r=>{const c=n[r],o=t[r],i=o&&O(o)?"element":f(o);if(!new RegExp(c).test(i))throw new TypeError(`${e.toUpperCase()}: Option "${r}" provided type "${i}" but expected type "${c}".`)})},y=e=>{if(!e)return!1;if(e.style&&e.parentNode&&e.parentNode.style){const t=getComputedStyle(e),n=getComputedStyle(e.parentNode);return"none"!==t.display&&"none"!==n.display&&"hidden"!==t.visibility}return!1},_=e=>!e||e.nodeType!==Node.ELEMENT_NODE||(!!e.classList.contains("disabled")||("undefined"!==typeof e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))),w=e=>e.offsetHeight,k=()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},N=e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()},V=e=>{N(()=>{const t=k();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}})},P=e=>{"function"===typeof e&&e()},I=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",x=".sticky-top",C=()=>{const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)},E=(e=C())=>{D(),A("body","paddingRight",t=>t+e),A(I,"paddingRight",t=>t+e),A(x,"marginRight",t=>t-e)},D=()=>{const e=document.body.style.overflow;e&&a["default"].setDataAttribute(document.body,"overflow",e),document.body.style.overflow="hidden"},A=(e,t,n)=>{const r=C();i["default"].find(e).forEach(e=>{if(e!==document.body&&window.innerWidth>e.clientWidth+r)return;const c=e.style[t],o=window.getComputedStyle(e)[t];a["default"].setDataAttribute(e,t,c),e.style[t]=n(Number.parseFloat(o))+"px"})},B=()=>{S("body","overflow"),S("body","paddingRight"),S(I,"paddingRight"),S(x,"marginRight")},S=(e,t)=>{i["default"].find(e).forEach(e=>{const n=a["default"].getDataAttribute(e,t);"undefined"===typeof n?e.style.removeProperty(t):(a["default"].removeDataAttribute(e,t),e.style[t]=n)})},L={isVisible:!0,isAnimated:!1,rootElement:document.body,clickCallback:null},U={isVisible:"boolean",isAnimated:"boolean",rootElement:"element",clickCallback:"(function|null)"},M="backdrop",T="modal-backdrop",$="fade",R="show",F="mousedown.bs."+M;class W{constructor(e){this._config=this._getConfig(e),this._isAppended=!1,this._element=null}show(e){this._config.isVisible?(this._append(),this._config.isAnimated&&w(this._getElement()),this._getElement().classList.add(R),this._emulateAnimation(()=>{P(e)})):P(e)}hide(e){this._config.isVisible?(this._getElement().classList.remove(R),this._emulateAnimation(()=>{this.dispose(),P(e)})):P(e)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=T,this._config.isAnimated&&e.classList.add($),this._element=e}return this._element}_getConfig(e){return e={...L,..."object"===typeof e?e:{}},e.rootElement=e.rootElement||document.body,v(M,e,U),e}_append(){this._isAppended||(this._config.rootElement.appendChild(this._getElement()),d["default"].on(this._getElement(),F,()=>{P(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(d["default"].off(this._element,F),this._getElement().parentNode.removeChild(this._element),this._isAppended=!1)}_emulateAnimation(e){if(!this._config.isAnimated)return void P(e);const t=h(this._getElement());d["default"].one(this._getElement(),"transitionend",()=>P(e)),j(this._getElement(),t)}}const q="offcanvas",Q="bs.offcanvas",z="."+Q,J=".data-api",H=`load${z}${J}`,X="Escape",Y={backdrop:!0,keyboard:!0,scroll:!1},G={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},K="show",Z=".offcanvas.show",ee="show"+z,te="shown"+z,ne="hide"+z,re="hidden"+z,ce="focusin"+z,oe=`click${z}${J}`,ie="click.dismiss"+z,ae="keydown.dismiss"+z,se='[data-bs-dismiss="offcanvas"]',de='[data-bs-toggle="offcanvas"]';class le extends l["default"]{constructor(e,t){super(e),this._config=this._getConfig(t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._addEventListeners()}static get NAME(){return q}static get Default(){return Y}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;const t=d["default"].trigger(this._element,ee,{relatedTarget:e});if(t.defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(E(),this._enforceFocusOnElement(this._element)),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(K);const n=()=>{d["default"].trigger(this._element,te,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown)return;const e=d["default"].trigger(this._element,ne);if(e.defaultPrevented)return;d["default"].off(document,ce),this._element.blur(),this._isShown=!1,this._element.classList.remove(K),this._backdrop.hide();const t=()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||B(),d["default"].trigger(this._element,re)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),super.dispose(),d["default"].off(document,ce)}_getConfig(e){return e={...Y,...a["default"].getDataAttributes(this._element),..."object"===typeof e?e:{}},v(q,e,G),e}_initializeBackDrop(){return new W({isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_enforceFocusOnElement(e){d["default"].off(document,ce),d["default"].on(document,ce,t=>{document===t.target||e===t.target||e.contains(t.target)||e.focus()}),e.focus()}_addEventListeners(){d["default"].on(this._element,ie,se,()=>this.hide()),d["default"].on(this._element,ae,e=>{this._config.keyboard&&e.key===X&&this.hide()})}static jQueryInterface(e){return this.each((function(){const t=s["default"].get(this,Q)||new le(this,"object"===typeof e?e:{});if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}return d["default"].on(document,oe,de,(function(e){const t=p(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),_(this))return;d["default"].one(t,re,()=>{y(this)&&this.focus()});const n=i["default"].findOne(Z);n&&n!==t&&le.getInstance(n).hide();const r=s["default"].get(t,Q)||new le(t);r.toggle(this)})),d["default"].on(window,H,()=>{i["default"].find(Z).forEach(e=>(s["default"].get(e,Q)||new le(e)).show())}),V(le),le}))},c740:function(e,t,n){"use strict";var r=n("23e7"),c=n("b727").findIndex,o=n("44d2"),i="findIndex",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}}),o(i)},d81d:function(e,t,n){"use strict";var r=n("23e7"),c=n("b727").map,o=n("1dde"),i=o("map");r({target:"Array",proto:!0,forced:!i},{map:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(e,t,n){var r=n("23e7"),c=n("83ab"),o=n("56ef"),i=n("fc6a"),a=n("06cf"),s=n("8418");r({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(e){var t,n,r=i(e),c=a.f,d=o(r),l={},u=0;while(d.length>u)n=c(r,t=d[u++]),void 0!==n&&s(l,t,n);return l}})},dc0d:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c={class:"container pt-4 pb-4 pt-lg-7 pb-lg-7"},o={class:"card"},i={class:"card-body"},a={class:"d-flex justify-content-md-between pr-3 mb-4"},s=Object(r["createVNode"])("h2",{class:"h6 text-secondary"},"產品清單",-1),d={class:"table caption-top"},l=Object(r["createVNode"])("thead",null,[Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",{scope:"col"},"產品名稱"),Object(r["createVNode"])("th",{scope:"col"},"評價"),Object(r["createVNode"])("th",{scope:"col"},"原價"),Object(r["createVNode"])("th",{scope:"col"},"售價"),Object(r["createVNode"])("th",{scope:"col"},"是否啟用"),Object(r["createVNode"])("th",{scope:"col"},"刪除")])],-1),u={key:0},b=Object(r["createVNode"])("td",{class:"text-center text-muted",colspan:"5"},[Object(r["createVNode"])("img",{width:"100",src:"https://media.giphy.com/media/wnYB3vx9t6PXiq1ubB/giphy.gif"})],-1),f={class:"form-check form-switch"},m={key:0,class:"text-center text-muted",colspan:"5"},p=Object(r["createVNode"])("td",{class:"text-center text-muted",colspan:"5"},"無商品 / ㄏ",-1),h={class:"d-flex justify-content-md-between"},g=Object(r["createTextVNode"])(" 目前有 "),O=Object(r["createTextVNode"])(" 項產品 ");function j(e,t,n,j,v,y){var _=Object(r["resolveComponent"])("Pagination"),w=Object(r["resolveComponent"])("ProductCanvasoff");return Object(r["openBlock"])(),Object(r["createBlock"])("div",c,[Object(r["createVNode"])("div",o,[Object(r["createVNode"])("div",i,[Object(r["createVNode"])("div",a,[s,Object(r["createVNode"])("button",{class:"btn btn-outline-primary rounded-pill shadow-sm",type:"button","aria-controls":"modifyProductItem",onClick:t[1]||(t[1]=function(e){return y.handleProductItem(null)})}," 建立新的產品 ")]),Object(r["createVNode"])("table",d,[l,Object(r["createVNode"])("tbody",null,[v.isLoading?(Object(r["openBlock"])(),Object(r["createBlock"])("tr",u,[b])):(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:1},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(v.products,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:e.id},[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.title),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.rate||"-"),1),Object(r["createVNode"])("td",null,"$ "+Object(r["toDisplayString"])(e.origin_price),1),Object(r["createVNode"])("td",null,"$ "+Object(r["toDisplayString"])(e.price),1),Object(r["createVNode"])("td",null,[Object(r["createVNode"])("div",f,[Object(r["createVNode"])("input",{class:"form-check-input",type:"checkbox",checked:e.is_enabled,onChange:function(t){return y.toggleProductItemStatus(e)}},null,40,["checked","onChange"])])]),Object(r["createVNode"])("td",null,[Object(r["createVNode"])("button",{type:"button",class:"btn btn-sm btn-primary me-1","data-action":"remove",onClick:function(t){return y.handleProductItem(e)}}," 編輯 ",8,["onClick"]),Object(r["createVNode"])("button",{type:"button",class:"btn btn-sm btn-danger text-white","data-action":"remove",onClick:function(t){return y.deleteProductItem({id:e.id,title:e.title})}}," 刪除 ",8,["onClick"])])])})),128)),0===v.products.length?(Object(r["openBlock"])(),Object(r["createBlock"])("tr",m,[p])):Object(r["createCommentVNode"])("",!0)],64))])]),Object(r["createVNode"])("div",h,[Object(r["createVNode"])("p",null,[g,Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(v.products.length),1),O]),Object(r["createVNode"])(_,{pageInfo:v.pageInfo,onChangePage:t[2]||(t[2]=function(t){return y.changePage(e.$emit)})},null,8,["pageInfo"])])])]),Object(r["createVNode"])(w,{ref:"productCanvasoff",productItem:v.currentProductItem,onSubmitProductItem:y.updateProductItem},null,8,["productItem","onSubmitProductItem"])])}n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=n("1da1"),k=(n("96cf"),n("d81d"),n("c740"),n("365c")),N={class:"btn-group me-2",role:"group","aria-label":"First group"};function V(e,t,n,c,o,i){return Object(r["openBlock"])(),Object(r["createBlock"])("div",N,[Object(r["createVNode"])("button",{type:"button",class:"btn btn-outline-primary",disabled:!n.pageInfo.has_pre,onClick:t[1]||(t[1]=function(e){return i.changePage(n.pageInfo.current_page-1)})}," < ",8,["disabled"]),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n.pageInfo.total_pages,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("button",{type:"button",class:["btn btn-outline-primary",{active:e===n.pageInfo.current_page}],key:"page".concat(e),onClick:function(t){return i.changePage(e)}},Object(r["toDisplayString"])(e),11,["onClick"])})),128)),Object(r["createVNode"])("button",{type:"button",class:"btn btn-outline-primary",disabled:!n.pageInfo.has_next,onClick:t[2]||(t[2]=function(e){return i.changePage(n.pageInfo.current_page+1)})}," > ",8,["disabled"])])}var P={name:"pagination",props:{pageInfo:{type:Object}},data:function(){return{}},methods:{changePage:function(e){e!==this.pageInfo.current_page&&this.$emit("changePage",e)}}};P.render=V;var I=P,x=(n("e01a"),{ref:"refProductCanvas",class:"offcanvas offcanvas-end","data-bs-backdrop":"false",tabindex:"-1","aria-labelledby":"createItemLabel"}),C=Object(r["createVNode"])("div",{class:"offcanvas-header"},[Object(r["createVNode"])("h5",{class:"offcanvas-title",id:"createItemLabel"},"產品資訊"),Object(r["createVNode"])("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),E={class:"offcanvas-body"},D={class:"col-md-12"},A=Object(r["createVNode"])("label",{for:"title",class:"form-label"},"產品名稱",-1),B={class:"col-12"},S=Object(r["createVNode"])("label",{for:"description",class:"form-label"},"描述",-1),L={class:"col-12"},U=Object(r["createVNode"])("label",{for:"content",class:"form-label"},"內容",-1),M={class:"col-md-6"},T=Object(r["createVNode"])("label",{for:"originPrice",class:"form-label"},"原價",-1),$={class:"col-md-6"},R=Object(r["createVNode"])("label",{for:"price",class:"form-label"},"售價",-1),F={class:"col-md-4"},W=Object(r["createVNode"])("label",{for:"category",class:"form-label"},"類別",-1),q={class:"col-md-4"},Q=Object(r["createVNode"])("label",{for:"unit",class:"form-label"},"單位",-1),z={class:"col-md-4"},J={class:"form-check"},H=Object(r["createVNode"])("label",{class:"form-check-label",for:"isEnabled"}," 啟用 ",-1),X={class:"col-md-12"},Y={for:"rate",class:"form-label"},G={class:"col-md-12"},K=Object(r["createVNode"])("label",{class:"form-label",for:"imageUrl"},"主要圖片",-1),Z=Object(r["createVNode"])("div",{class:"col-12"},[Object(r["createVNode"])("button",{type:"submit",class:"btn btn-primary text-white w-100 rounded-pill"}," 新增/編輯 ")],-1);function ee(e,t,n,c,o,i){return Object(r["openBlock"])(),Object(r["createBlock"])("div",x,[C,Object(r["createVNode"])("div",E,[Object(r["createVNode"])("form",{onSubmit:t[11]||(t[11]=Object(r["withModifiers"])((function(){return i.submitProductItem&&i.submitProductItem.apply(i,arguments)}),["prevent"])),class:"row g-3 align-items-end"},[Object(r["createVNode"])("div",D,[A,Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.currentProductItem.title=e})},null,512),[[r["vModelText"],o.currentProductItem.title]])]),Object(r["createVNode"])("div",B,[S,Object(r["withDirectives"])(Object(r["createVNode"])("textarea",{class:"form-control",id:"description",placeholder:"描述",row:"3","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.currentProductItem.description=e})},null,512),[[r["vModelText"],o.currentProductItem.description]])]),Object(r["createVNode"])("div",L,[U,Object(r["withDirectives"])(Object(r["createVNode"])("textarea",{class:"form-control",id:"content",placeholder:"內容",row:"3","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.currentProductItem.content=e})},null,512),[[r["vModelText"],o.currentProductItem.content]])]),Object(r["createVNode"])("div",M,[T,Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"number",min:"0",class:"form-control",id:"originPrice","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.currentProductItem.origin_price=e})},null,512),[[r["vModelText"],o.currentProductItem.origin_price,void 0,{number:!0}]])]),Object(r["createVNode"])("div",$,[R,Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"number",min:"0",class:"form-control",id:"price","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.currentProductItem.price=e})},null,512),[[r["vModelText"],o.currentProductItem.price,void 0,{number:!0}]])]),Object(r["createVNode"])("div",F,[W,Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"text",class:"form-control",id:"category","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.currentProductItem.category=e})},null,512),[[r["vModelText"],o.currentProductItem.category]])]),Object(r["createVNode"])("div",q,[Q,Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"text",class:"form-control",id:"unit","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.currentProductItem.unit=e})},null,512),[[r["vModelText"],o.currentProductItem.unit]])]),Object(r["createVNode"])("div",z,[Object(r["createVNode"])("div",J,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{class:"form-check-input",type:"checkbox",id:"isEnabled","onUpdate:modelValue":t[8]||(t[8]=function(e){return o.currentProductItem.is_enabled=e})},null,512),[[r["vModelCheckbox"],o.currentProductItem.is_enabled]]),H])]),Object(r["createVNode"])("div",X,[Object(r["createVNode"])("label",Y,"評價 - "+Object(r["toDisplayString"])(o.currentProductItem.rate),1),Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"range",class:"form-range w-100",min:"0",max:"5",step:"0.5",id:"rate","onUpdate:modelValue":t[9]||(t[9]=function(e){return o.currentProductItem.rate=e})},null,512),[[r["vModelText"],o.currentProductItem.rate]])]),Object(r["createVNode"])("div",G,[K,o.currentProductItem.imageUrl?(Object(r["openBlock"])(),Object(r["createBlock"])("img",{key:0,src:o.currentProductItem.imageUrl,alt:""},null,8,["src"])):Object(r["createCommentVNode"])("",!0),Object(r["withDirectives"])(Object(r["createVNode"])("input",{id:"imageUrl",type:"text",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=function(e){return o.currentProductItem.imageUrl=e})},null,512),[[r["vModelText"],o.currentProductItem.imageUrl,void 0,{trim:!0}]])]),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(o.currentProductItem.imagesUrl,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"col-md-6",key:"img".concat(t)},[Object(r["createVNode"])("label",{for:"thumbnail".concat(t),class:"form-label"},"縮圖"+Object(r["toDisplayString"])(t+1),9,["for"]),e?(Object(r["openBlock"])(),Object(r["createBlock"])("img",{key:0,src:e,alt:"暫時無圖片"},null,8,["src"])):Object(r["createCommentVNode"])("",!0),Object(r["withDirectives"])(Object(r["createVNode"])("input",{id:"thumbnail".concat(t),type:"text",class:"form-control","onUpdate:modelValue":function(e){return o.currentProductItem.imagesUrl[t]=e}},null,8,["id","onUpdate:modelValue"]),[[r["vModelText"],o.currentProductItem.imagesUrl[t],void 0,{trim:!0}]])])})),128)),Z],32)])],512)}var te=n("1517"),ne=n.n(te),re={props:{isCreate:{type:Boolean},productItem:{type:Object}},data:function(){return{currentProductItem:null,bsOffcanvas:""}},methods:{submitProductItem:function(){var e=this.currentProductItem.id;this.$emit("submitProductItem",{isNew:!e,content:this.currentProductItem})},openModal:function(){this.bsOffcanvas.show()},closeModal:function(){this.bsOffcanvas.hide()}},mounted:function(){var e=this.$refs.refProductCanvas;this.bsOffcanvas=new ne.a(e)},watch:{productItem:function(e){this.currentProductItem=_({},e)}},created:function(){this.currentProductItem=_({},this.productItem)}};re.render=ee;var ce=re,oe={components:{Pagination:I,ProductCanvasoff:ce},data:function(){return{currentProductItem:null,products:[],productCount:0,pageInfo:{current_page:1,has_next:!1,has_pre:!1,total_pages:1},isCreateItem:!0,isLoading:!1}},methods:{generateItemForm:function(){return{title:"",category:"",origin_price:null,price:null,unit:"",description:"",content:"",is_enabled:!0,imageUrl:"",rate:5,imagesUrl:["","","","",""]}},fetchProductData:function(){var e=arguments,t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var r,c,o,i,a,s,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:1,n.prev=1,t.isLoading=!0,n.next=5,Object(k["h"])(r);case 5:c=n.sent,o=c.data,i=o.products,a=o.pagination,s=o.success,d=o.message,s?(t.products=i.map((function(e){return _(_({},e),{},{is_enabled:Boolean(e.is_enabled)})})),t.pageInfo=a):alert(d),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),console.log(n.t0);case 13:return n.prev=13,t.isLoading=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,10,13,16]])})))()},toggleProductItemStatus:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoading=!0,t.currentProductItem=e,t.currentProductItem.is_enabled=!t.currentProductItem.is_enabled,n.next=5,t.submitProductItem({isNew:!1,content:t.currentProductItem});case 5:t.isLoading=!1;case 6:case"end":return n.stop()}}),n)})))()},deleteProductItem:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var r,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.id,c=e.title,!window.confirm("你確定要刪除-".concat(c,"嗎？"))){n.next=14;break}return t.isLoading=!0,n.prev=3,n.next=6,Object(k["f"])(r);case 6:o=n.sent,o.data.success&&t.fetchProductData(),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](3),t.isLoading=!1,console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[3,10]])})))()},submitProductItem:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var r,c,o,i,a,s,d,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.isNew,c=e.content,n.prev=1,o=c.id,!r){n.next=9;break}return n.next=6,Object(k["c"])({data:c});case 6:n.t0=n.sent,n.next=12;break;case 9:return n.next=11,Object(k["o"])({id:o,data:{data:c}});case 11:n.t0=n.sent;case 12:i=n.t0,a=i.data,s=a.success,d=a.message,s&&(t.$refs.productCanvasoff.closeModal(),o?(l=t.products.findIndex((function(e){return e.id===o})),-1!==l&&(t.products[l]=c)):t.fetchProductData()),alert(d),n.next=21;break;case 18:n.prev=18,n.t1=n["catch"](1),console.log(n.t1);case 21:case"end":return n.stop()}}),n,null,[[1,18]])})))()},handleProductItem:function(e){e?(this.currentProductItem=e,this.isCreateItem=!1):(this.currentProductItem=this.generateItemForm(),this.isCreateItem=!0),this.$refs.productCanvasoff.openModal()},updateProductItem:function(e){this.submitProductItem(e)},changePage:function(e){this.fetchProductData(e)},init:function(){this.currentProductItem=this.generateItemForm(),this.fetchProductData()}},created:function(){this.init()}};oe.render=j;t["default"]=oe},e439:function(e,t,n){var r=n("23e7"),c=n("d039"),o=n("fc6a"),i=n("06cf").f,a=n("83ab"),s=c((function(){i(1)})),d=!a||s;r({target:"Object",stat:!0,forced:d,sham:!a},{getOwnPropertyDescriptor:function(e,t){return i(o(e),t)}})}}]);
//# sourceMappingURL=chunk-45436da4.880fd199.js.map