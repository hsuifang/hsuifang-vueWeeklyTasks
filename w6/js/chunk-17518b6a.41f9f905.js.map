{"version":3,"sources":["webpack:///./src/views/Customer/Cart.vue","webpack:///./src/views/Customer/Cart.vue?e0fa","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","role","scope","colspan","for","style","info","status","msg","isShow","carts","length","type","disabled","loadingItem","pos","deleteAllCart","item","key","product_id","src","product","imageUrl","alt","width","height","title","category","price","qty","min","deleteItemFromCart","id","total","final","ref","requestOrder","errors","name","placeholder","rules","form","user","email","tel","address","cols","rows","message","data","final_total","methods","fetchCartList","emitter","emit","isLoading","api","res","success","alert","console","log","updateCart","cartId","productId","showMsg","toggleLoding","$refs","resetForm","this","setTimeout","created","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-17518b6a.41f9f905.js","sourcesContent":["<template>\n  <!-- 購物車 -->\n  <div class=\"pb-5\">\n    <div class=\"container\">\n      <!-- 訊息 -->\n      <div v-show=\"info.isShow\" class=\"alert\" :class=\"info.status\" role=\"alert\">\n        {{ info.msg }}\n      </div>\n      <div class=\"row mt-4 mb-4 p-5 bg-white rounded shadow-sm\">\n        <div class=\"col-lg-12\">\n          <div class=\"text-end mb-2\" v-if=\"carts.length > 0\">\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-secondary rounded-pill px-3\"\n              :disabled=\"loadingItem.pos === 'delAll'\"\n              @click=\"deleteAllCart\"\n            >\n              刪除全部\n            </button>\n            <div\n              v-if=\"loadingItem.pos === 'delAll'\"\n              class=\"spinner-border spinner-border-sm position-absolute top-50 start-100\"\n              role=\"status\"\n            >\n              <span class=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n          <div class=\"table-responsive\">\n            <table class=\"table\">\n              <thead>\n                <tr>\n                  <th scope=\"col\" class=\"border-0 bg-light\">\n                    <p>名稱</p>\n                  </th>\n                  <th scope=\"col\" class=\"border-0 bg-light\">\n                    <p>金額</p>\n                  </th>\n                  <th scope=\"col\" class=\"border-0 bg-light\">\n                    <p>數量</p>\n                  </th>\n                  <th scope=\"col\" class=\"border-0 bg-light\">\n                    <p>刪除</p>\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                <template v-if=\"carts.length > 0\">\n                  <tr v-for=\"item in carts\" :key=\"item.product_id\">\n                    <th scope=\"row\">\n                      <div class=\"p-2\">\n                        <img\n                          :src=\"item.product.imageUrl\"\n                          alt=\"\"\n                          width=\"70\"\n                          height=\"70\"\n                          class=\"img-fluid rounded shadow-sm me-3\"\n                          style=\"height: 70px; object-fit: contain\"\n                        />\n                        <div class=\"ml-3 d-inline-block align-middle\">\n                          <h5 class=\"mb-0 text-dark\">{{ item.product.title }}</h5>\n                          <span class=\"text-muted font-weight-normal font-italic\"\n                            >類別: {{ item.product.category }}</span\n                          >\n                        </div>\n                      </div>\n                    </th>\n                    <td class=\"align-middle\">\n                      <strong>NT$ {{ item.product.price }}</strong>\n                    </td>\n                    <td class=\"align-middle\">\n                      <input\n                        type=\"number\"\n                        class=\"form-control\"\n                        v-model.number=\"item.qty\"\n                        style=\"width: 80px\"\n                        min=\"1\"\n                        @change=\"\n                          updateCart({\n                            cartId: item.id,\n                            productId: item.product_id,\n                            qty: item.qty,\n                          })\n                        \"\n                      />\n                    </td>\n                    <td class=\"align-middle\">\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-outline-danger\"\n                        @click=\"deleteItemFromCart({ cartId: item.id })\"\n                      >\n                        <i class=\"fa fa-trash\"></i>\n                      </button>\n                      <div\n                        v-if=\"loadingItem.pos === 'delItem' && loadingItem.id === item.id\"\n                        class=\"position-absolute top-50 start-50\"\n                      >\n                        <div class=\"spinner-border spinner-border-sm\" role=\"status\">\n                          <span class=\"visually-hidden\">Loading...</span>\n                        </div>\n                      </div>\n                    </td>\n                  </tr>\n                </template>\n                <tr v-else>\n                  <td colspan=\"4\" class=\"text-center\">目前無購物資料</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n      <!-- 個人資訊 -->\n      <div class=\"row p-5 bg-white rounded shadow-sm\">\n        <div class=\"col-lg-6\">\n          <h6 class=\"bg-light rounded-pill px-4 py-3 fw-bold text-secondary\">金額明細</h6>\n          <div class=\"p-4\">\n            <ul class=\"list-unstyled mb-4\">\n              <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                <strong class=\"text-muted\">購買</strong><strong>NT$ {{ price.total }}</strong>\n              </li>\n              <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                <strong class=\"text-muted\">折扣</strong><strong>$0.00</strong>\n              </li>\n              <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                <strong class=\"text-muted\">總共</strong>\n                <h5 class=\"fw-bold\">NT$ {{ price.final }}</h5>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class=\"col-lg-6\">\n          <h6 class=\"bg-light rounded-pill px-4 py-3 fw-bold text-secondary\">購買者資訊</h6>\n          <v-form ref=\"form\" v-slot=\"{ errors }\" @submit=\"requestOrder\" class=\"px-3\">\n            <div class=\"mb-3\">\n              <label for=\"name\" class=\"form-label\">姓名</label>\n              <v-field\n                id=\"name\"\n                name=\"姓名\"\n                type=\"email\"\n                class=\"form-control\"\n                :class=\"{ 'is-invalid': errors['姓名'] }\"\n                placeholder=\"請輸入姓名\"\n                rules=\"required\"\n                v-model=\"form.user.name\"\n              ></v-field>\n              <error-message name=\"姓名\" class=\"invalid-feedback\"></error-message>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"name\" class=\"form-label\">Email</label>\n              <v-field\n                id=\"name\"\n                name=\"Email\"\n                type=\"email\"\n                class=\"form-control\"\n                :class=\"{ 'is-invalid': errors['Email'] }\"\n                placeholder=\"請輸入Email\"\n                rules=\"email|required\"\n                v-model=\"form.user.email\"\n              ></v-field>\n              <error-message name=\"Email\" class=\"invalid-feedback\"></error-message>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"tel\" class=\"form-label\">電話</label>\n              <v-field\n                id=\"tel\"\n                name=\"電話\"\n                type=\"tel\"\n                class=\"form-control\"\n                :class=\"{ 'is-invalid': errors['電話'] }\"\n                placeholder=\"請輸入電話\"\n                rules=\"min:8|max:10|required\"\n                v-model=\"form.user.tel\"\n              ></v-field>\n              <error-message name=\"電話\" class=\"invalid-feedback\"></error-message>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"address\" class=\"form-label\">地址</label>\n              <v-field\n                id=\"address\"\n                name=\"地址\"\n                type=\"text\"\n                class=\"form-control\"\n                :class=\"{ 'is-invalid': errors['地址'] }\"\n                placeholder=\"請輸入地址\"\n                rules=\"required\"\n                v-model=\"form.user.address\"\n              ></v-field>\n              <error-message name=\"地址\" class=\"invalid-feedback\"></error-message>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"message\" class=\"form-label\">留言或備註</label>\n              <textarea\n                id=\"message\"\n                cols=\"30\"\n                rows=\"2\"\n                class=\"form-control\"\n                v-model=\"form.message\"\n              ></textarea>\n            </div>\n            <div class=\"text-end\">\n              <button\n                type=\"submit\"\n                class=\"btn btn-secondary rounded-pill py-2 px-4\"\n                :disabled=\"loadingItem.pos === 'requestOrder' || this.carts.length === 0\"\n              >\n                購買確認\n              </button>\n              <div\n                v-if=\"loadingItem.pos === 'requestOrder'\"\n                class=\"position-absolute top-50 start-100\"\n                style=\"transform: translateX(-10px)\"\n              >\n                <div class=\"spinner-border spinner-border-sm\" role=\"status\">\n                  <span class=\"visually-hidden\">Loading...</span>\n                </div>\n              </div>\n            </div>\n          </v-form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  apiGetCartList,\n  apiDeleteCart,\n  apiDeleteAllCart,\n  apiUpdateCart,\n  apiGenerateOrder,\n} from '@/api';\nimport emitter from '@/services/emitter';\n\nexport default {\n  data() {\n    return {\n      carts: [],\n      price: {\n        total: 0,\n        final_total: 0,\n      },\n      loadingItem: {\n        pos: '',\n        id: '',\n      },\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      info: {\n        isShow: '',\n        status: '',\n        msg: '',\n      },\n    };\n  },\n  methods: {\n    async fetchCartList() {\n      emitter.emit('v-loading', { isLoading: true });\n      try {\n        const res = await apiGetCartList();\n        const { success, message, data } = res.data;\n        if (success) {\n          this.carts = data.carts;\n          this.price.total = data.total;\n          this.price.final = data.final_total;\n        } else {\n          alert(message);\n        }\n      } catch (error) {\n        console.log(error);\n      } finally {\n        emitter.emit('v-loading', { isLoading: false });\n      }\n    },\n    async updateCart({ cartId, productId, qty }) {\n      try {\n        const res = await apiUpdateCart({ cartId, productId, qty });\n        const { success, message } = res.data;\n        if (success) {\n          this.fetchCartList();\n        } else {\n          this.showMsg({ msg: message, status: 'danger' });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async deleteItemFromCart({ cartId }) {\n      this.toggleLoding({ pos: 'delItem', id: cartId });\n      try {\n        const res = await apiDeleteCart(cartId);\n        const { success, message } = res.data;\n        if (success) {\n          this.fetchCartList();\n        } else {\n          this.showMsg({ msg: message, status: 'danger' });\n        }\n        this.toggleLoding({ pos: '', id: '' });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async deleteAllCart() {\n      try {\n        const res = await apiDeleteAllCart();\n        const { success, message } = res.data;\n        if (success) {\n          this.carts = [];\n          this.fetchCartList();\n        } else {\n          this.showMsg({ msg: message, status: 'danger' });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async requestOrder() {\n      this.toggleLoding({ pos: 'requestOrder' });\n      try {\n        const res = await apiGenerateOrder({\n          user: this.form.user,\n          message: this.form.message,\n        });\n        const { success, message } = res.data;\n        if (success) {\n          await this.fetchCartList();\n          await this.$refs.form.resetForm();\n        } else {\n          this.showMsg({ msg: message, status: 'danger' });\n        }\n      } catch (error) {\n        console.log(error);\n      } finally {\n        this.toggleLoding({ pos: '' });\n      }\n    },\n    toggleLoding({ pos, id }) {\n      this.loadingItem.pos = pos;\n      this.loadingItem.id = id;\n    },\n    showMsg({ msg, status }) {\n      this.info.isShow = true;\n      this.info.status = `alert-${status}`;\n      this.info.msg = msg;\n      setTimeout(() => {\n        this.info.isShow = false;\n        this.info.status = '';\n        this.info.msg = '';\n      }, 2000);\n    },\n  },\n  created() {\n    this.fetchCartList();\n  },\n};\n</script>\n","import { render } from \"./Cart.vue?vue&type=template&id=7c879242\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}