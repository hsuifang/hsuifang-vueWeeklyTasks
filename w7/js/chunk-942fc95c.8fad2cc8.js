(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-942fc95c"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,c){var r=c("1d80"),a=c("5899"),o="["+a+"]",n=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),l=function(e){return function(t){var c=String(r(t));return 1&e&&(c=c.replace(n,"")),2&e&&(c=c.replace(i,"")),c}};e.exports={start:l(1),end:l(2),trim:l(3)}},"6a2e":function(e,t,c){"use strict";c.r(t);c("a9e3");var r=c("7a23"),a={class:"container pt-5 pb-3 mb-3"},o={class:"row"},n={class:"card mb-2 shadow-sm"},i={class:"card-img-top bg-primary"},l={class:"card-body"},d={class:"h6 card-title mb-1"},s={class:"text-secondary"},u={class:"d-flex justify-content-end"},p={key:0,class:"position-absolute top-50 start-100",style:{transform:"translateX(-20px)"}},b=Object(r["createVNode"])("div",{class:"spinner-border spinner-border-sm",role:"status"},[Object(r["createVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),g={key:0,class:"position-absolute top-50 start-100",style:{transform:"translateX(-10px)"}},O=Object(r["createVNode"])("div",{class:"spinner-border spinner-border-sm",role:"status"},[Object(r["createVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),j={key:1};function m(e,t,c,m,f,v){var N=Object(r["resolveComponent"])("UserProductModal");return Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[Object(r["createVNode"])("div",o,[f.products.length>0?(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],{key:0},Object(r["renderList"])(f.products,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"col-12 col-md-5 col-lg-4",key:e.id},[Object(r["createVNode"])("div",n,[Object(r["createVNode"])("div",i,[e.imageUrl?(Object(r["openBlock"])(),Object(r["createBlock"])("img",{key:0,src:e.imageUrl,alt:"主要圖片"},null,8,["src"])):Object(r["createCommentVNode"])("",!0)]),Object(r["createVNode"])("div",l,[Object(r["createVNode"])("h2",d,Object(r["toDisplayString"])(e.title),1),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(Number(e.rate||0),(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("i",{class:"fa fa-star text-warning mb-2",key:e})})),128)),Object(r["createVNode"])("h5",s,"NT$"+Object(r["toDisplayString"])(e.price),1),Object(r["createVNode"])("div",u,[Object(r["createVNode"])("div",null,[Object(r["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm rounded-pill me-2 px-3",onClick:function(t){return v.showProductDetail(e)},disabled:"detail"===f.loadingItem.pos}," 查看 ",8,["onClick","disabled"]),"detail"===f.loadingItem.pos&&f.loadingItem.id===e.id?(Object(r["openBlock"])(),Object(r["createBlock"])("div",p,[b])):Object(r["createCommentVNode"])("",!0)]),Object(r["createVNode"])("div",null,[Object(r["createVNode"])("button",{type:"button",class:"btn btn-secondary btn-sm rounded-pill px-3 text-white",onClick:function(t){return v.addToCart({productId:e.id,qty:1})},disabled:"list"===f.loadingItem.pos&&f.loadingItem.id===e.id}," 加入購物車 ",8,["onClick","disabled"]),"list"===f.loadingItem.pos&&f.loadingItem.id===e.id?(Object(r["openBlock"])(),Object(r["createBlock"])("div",g,[O])):Object(r["createCommentVNode"])("",!0)])])])])])})),128)):(Object(r["openBlock"])(),Object(r["createBlock"])("p",j,"目前無資料"))]),Object(r["createVNode"])(N,{ref:"productModal","item-detail":f.targetProduct,onAddCart:v.addToCart},null,8,["item-detail","onAddCart"])])}var f=c("1da1"),v=(c("96cf"),c("365c")),N=(c("a4d3"),c("e01a"),{ref:"modal",class:"modal fade show",tabindex:"-1",role:"dialog","aria-labelledby":"userProductModal","aria-hidden":"true"}),y={class:"modal-dialog modal-lg"},h={class:"modal-content"},k=Object(r["createVNode"])("div",{class:"modal-header"},[Object(r["createVNode"])("h5",{class:"modal-title"},"產品"),Object(r["createVNode"])("button",{type:"button",class:"btn-close my-1","data-bs-dismiss":"modal","aria-label":"Close"})],-1),V={class:"modal-body"},I={class:"container-fluid"},x={class:"row"},B={class:"col-5"},w={class:"gallerySlides"},D={key:1,class:"gallerySlides__main"},S=Object(r["createVNode"])("p",{class:"gallerySlides__caption"},"目前無圖片",-1),C={class:"gallerySlides__wrap"},_={class:"col-7"},L={class:"h3 text-secondary"},E={class:"d-flex align-items-end"},$={class:"h4 me-1 mb-0"},A={class:"text-muted"},M={class:"text-secondary mb-0"},P={class:"fw-bold ps-1 mb-2"},T={class:"input-group mb-2"},U={class:"input-group mb-4 border rounded-pill p-2"},F={class:"input-group-append border-0"},R=Object(r["createVNode"])("i",{class:"fa fa-cart-plus me-2"},null,-1),q=Object(r["createTextVNode"])("加入購物車 "),Q=Object(r["createVNode"])("hr",null,null,-1),X={class:"list-unstyled pb-3"},G=Object(r["createVNode"])("h6",null,"內容",-1),H=Object(r["createVNode"])("h6",null,"描述",-1);function J(e,t,c,a,o,n){return Object(r["openBlock"])(),Object(r["createBlock"])("div",N,[Object(r["createVNode"])("div",y,[Object(r["createVNode"])("div",h,[k,Object(r["createVNode"])("div",V,[Object(r["createVNode"])("div",I,[Object(r["createVNode"])("div",x,[Object(r["createVNode"])("div",B,[Object(r["createVNode"])("div",w,[o.productDetail.imageUrl?(Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:0,class:"gallerySlides__main",style:{backgroundImage:"url(".concat(o.productDetail.imageUrl,")")}},null,4)):(Object(r["openBlock"])(),Object(r["createBlock"])("div",D,[S])),Object(r["createVNode"])("ul",C,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n.resetImages,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{key:t,class:"gallerySlides__slideImg",style:{backgroundImage:"url(".concat(e,")")}},null,4)})),128))])])]),Object(r["createVNode"])("div",_,[Object(r["createVNode"])("h1",L,Object(r["toDisplayString"])(o.productDetail.title),1),Object(r["createVNode"])("div",E,[Object(r["createVNode"])("h2",$,"$ "+Object(r["toDisplayString"])(o.productDetail.price),1),Object(r["createVNode"])("p",A,[Object(r["createVNode"])("del",null,"$ "+Object(r["toDisplayString"])(o.productDetail.origin_price),1)])]),Object(r["createVNode"])("p",M,"類別:"+Object(r["toDisplayString"])(o.productDetail.category),1),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(Number(o.productDetail.rate||0),(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("i",{class:"fa fa-star mb-4 text-warning",key:e})})),128)),Object(r["createVNode"])("p",P," 剩下 "+Object(r["toDisplayString"])(o.productDetail.num)+" "+Object(r["toDisplayString"])(o.productDetail.unit),1),Object(r["createVNode"])("div",T,[Object(r["createVNode"])("div",U,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"text",placeholder:"購買數量",min:"1","aria-describedby":"button-addon3",class:"form-control border-0","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.requestQty=e})},null,512),[[r["vModelText"],o.requestQty,void 0,{number:!0}]]),Object(r["createVNode"])("div",F,[Object(r["createVNode"])("button",{type:"button",class:"btn btn-primary px-4 rounded-pill",onClick:t[2]||(t[2]=function(){return n.addCart&&n.addCart.apply(n,arguments)})},[R,q])])])]),Q,Object(r["createVNode"])("ul",X,[Object(r["createVNode"])("li",null,[G,Object(r["createVNode"])("p",null,Object(r["toDisplayString"])(o.productDetail.content),1)]),Object(r["createVNode"])("li",null,[H,Object(r["createVNode"])("p",null,Object(r["toDisplayString"])(o.productDetail.description),1)])])])])])])])])],512)}c("4de4");var Y=c("e0ae"),z={props:{itemDetail:{type:Object}},mixins:[Y["a"]],data:function(){return{productDetail:{},requestQty:1}},computed:{resetImages:function(){var e=this.productDetail.imagesUrl;return e?this.productDetail.imagesUrl.filter((function(e){return Boolean(e)})):[]}},methods:{addCart:function(){this.$emit("addCart",{productId:this.productDetail.id,qty:this.requestQty}),this.closeModal()}},watch:{itemDetail:function(e){this.productDetail=e}}};z.render=J;var K=z,W={name:"product",components:{UserProductModal:K},data:function(){return{carts:[],products:[],pageInfo:{current_page:1,has_next:!1,has_pre:!1,total_pages:1},loadingItem:{pos:"",id:""},targetProduct:{}}},methods:{fetchProductList:function(){var e=arguments,t=this;return Object(f["a"])(regeneratorRuntime.mark((function c(){var r,a,o,n,i,l;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:1,t.$vLoading(!0),c.prev=2,c.next=5,Object(v["o"])(r);case 5:a=c.sent,o=a.data,n=o.success,i=o.products,l=o.pagination,n?(t.products=i,t.pageInfo=l):t.$vHttpsNotice(a,"產品顯示"),c.next=13;break;case 10:c.prev=10,c.t0=c["catch"](2),t.$vErrorNotice();case 13:return c.prev=13,t.$vLoading(!1),c.finish(13);case 16:case"end":return c.stop()}}),c,null,[[2,10,13,16]])})))()},addToCart:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function c(){var r,a,o;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return r=e.productId,a=e.qty,t.toggleLoding({pos:"list",id:r}),c.prev=2,c.next=5,Object(v["a"])({id:r,qty:a});case 5:o=c.sent,t.$vHttpsNotice(o,"加入購物車"),c.next=12;break;case 9:c.prev=9,c.t0=c["catch"](2),t.$vErrorNotice();case 12:return c.prev=12,t.toggleLoding({pos:"",id:""}),c.finish(12);case 15:case"end":return c.stop()}}),c,null,[[2,9,12,15]])})))()},showProductDetail:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function c(){var r,a,o,n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return t.toggleLoding({pos:"detail",id:e.id}),c.next=3,Object(v["r"])(e.id);case 3:r=c.sent,a=r.data,o=a.success,n=a.product,o?(t.targetProduct=n,t.$refs.productModal.openModal()):t.$vHttpsNotice(r,"查看產品"),t.toggleLoding({pos:"",id:""});case 7:case"end":return c.stop()}}),c)})))()},toggleLoding:function(e){var t=e.pos,c=e.id;this.loadingItem.pos=t,this.loadingItem.id=c}},created:function(){this.fetchProductList()}};W.render=m;t["default"]=W},7156:function(e,t,c){var r=c("861d"),a=c("d2bb");e.exports=function(e,t,c){var o,n;return a&&"function"==typeof(o=t.constructor)&&o!==c&&r(n=o.prototype)&&n!==c.prototype&&a(e,n),e}},a9e3:function(e,t,c){"use strict";var r=c("83ab"),a=c("da84"),o=c("94ca"),n=c("6eeb"),i=c("5135"),l=c("c6b6"),d=c("7156"),s=c("c04e"),u=c("d039"),p=c("7c73"),b=c("241c").f,g=c("06cf").f,O=c("9bf2").f,j=c("58a8").trim,m="Number",f=a[m],v=f.prototype,N=l(p(v))==m,y=function(e){var t,c,r,a,o,n,i,l,d=s(e,!1);if("string"==typeof d&&d.length>2)if(d=j(d),t=d.charCodeAt(0),43===t||45===t){if(c=d.charCodeAt(2),88===c||120===c)return NaN}else if(48===t){switch(d.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+d}for(o=d.slice(2),n=o.length,i=0;i<n;i++)if(l=o.charCodeAt(i),l<48||l>a)return NaN;return parseInt(o,r)}return+d};if(o(m,!f(" 0o1")||!f("0b1")||f("+0x1"))){for(var h,k=function(e){var t=arguments.length<1?0:e,c=this;return c instanceof k&&(N?u((function(){v.valueOf.call(c)})):l(c)!=m)?d(new f(y(t)),c,k):y(t)},V=r?b(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),I=0;V.length>I;I++)i(f,h=V[I])&&!i(k,h)&&O(k,h,g(f,h));k.prototype=v,v.constructor=k,n(a,m,k)}},e01a:function(e,t,c){"use strict";var r=c("23e7"),a=c("83ab"),o=c("da84"),n=c("5135"),i=c("861d"),l=c("9bf2").f,d=c("e893"),s=o.Symbol;if(a&&"function"==typeof s&&(!("description"in s.prototype)||void 0!==s().description)){var u={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new s(e):void 0===e?s():s(e);return""===e&&(u[t]=!0),t};d(p,s);var b=p.prototype=s.prototype;b.constructor=p;var g=b.toString,O="Symbol(test)"==String(s("test")),j=/^Symbol\((.*)\)[^)]+$/;l(b,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=g.call(e);if(n(u,e))return"";var c=O?t.slice(7,-1):t.replace(j,"$1");return""===c?void 0:c}}),r({global:!0,forced:!0},{Symbol:p})}}}]);
//# sourceMappingURL=chunk-942fc95c.8fad2cc8.js.map