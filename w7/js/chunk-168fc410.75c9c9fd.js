(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-168fc410"],{1799:function(e,t,r){"use strict";var c=r("7a23"),n={class:"btn-group me-2",role:"group","aria-label":"First group"};function o(e,t,r,o,a,i){return Object(c["openBlock"])(),Object(c["createBlock"])("div",n,[Object(c["createVNode"])("button",{type:"button",class:"btn btn-outline-primary",disabled:!r.pageInfo.has_pre,onClick:t[1]||(t[1]=function(e){return i.changePage(r.pageInfo.current_page-1)})}," < ",8,["disabled"]),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(r.pageInfo.total_pages,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("button",{type:"button",class:["btn btn-outline-primary",{active:e===r.pageInfo.current_page}],key:"page".concat(e),onClick:function(t){return i.changePage(e)}},Object(c["toDisplayString"])(e),11,["onClick"])})),128)),Object(c["createVNode"])("button",{type:"button",class:"btn btn-outline-primary",disabled:!r.pageInfo.has_next,onClick:t[2]||(t[2]=function(e){return i.changePage(r.pageInfo.current_page+1)})}," > ",8,["disabled"])])}var a={name:"pagination",props:{pageInfo:{type:Object}},data:function(){return{}},methods:{changePage:function(e){e!==this.pageInfo.current_page&&this.$emit("changePage",e)}}};a.render=o;t["a"]=a},"4df4":function(e,t,r){"use strict";var c=r("0366"),n=r("7b0b"),o=r("9bdd"),a=r("e95a"),i=r("50c4"),d=r("8418"),l=r("35a1");e.exports=function(e){var t,r,u,s,b,m,p=n(e),f="function"==typeof this?this:Array,g=arguments.length,O=g>1?arguments[1]:void 0,j=void 0!==O,h=l(p),v=0;if(j&&(O=c(O,g>2?arguments[2]:void 0,2)),void 0==h||f==Array&&a(h))for(t=i(p.length),r=new f(t);t>v;v++)m=j?O(p[v],v):p[v],d(r,v,m);else for(s=h.call(p),b=s.next,r=new f;!(u=b.call(s)).done;v++)m=j?o(s,O,[u.value,v],!0):u.value,d(r,v,m);return r.length=v,r}},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"6adf":function(e,t,r){},"7db0":function(e,t,r){"use strict";var c=r("23e7"),n=r("b727").find,o=r("44d2"),a="find",i=!0;a in[]&&Array(1)[a]((function(){i=!1})),c({target:"Array",proto:!0,forced:i},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},"9bdd":function(e,t,r){var c=r("825a"),n=r("2a62");e.exports=function(e,t,r,o){try{return o?t(c(r)[0],r[1]):t(r)}catch(a){throw n(e),a}}},a630:function(e,t,r){var c=r("23e7"),n=r("4df4"),o=r("1c7e"),a=!o((function(e){Array.from(e)}));c({target:"Array",stat:!0,forced:a},{from:n})},b0c0:function(e,t,r){var c=r("83ab"),n=r("9bf2").f,o=Function.prototype,a=o.toString,i=/^\s*function ([^ (]*)/,d="name";c&&!(d in o)&&n(o,d,{configurable:!0,get:function(){try{return a.call(this).match(i)[1]}catch(e){return""}}})},b0c8:function(e,t,r){"use strict";r("6adf")},c740:function(e,t,r){"use strict";var c=r("23e7"),n=r("b727").findIndex,o=r("44d2"),a="findIndex",i=!0;a in[]&&Array(1)[a]((function(){i=!1})),c({target:"Array",proto:!0,forced:i},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},d28b:function(e,t,r){var c=r("746f");c("iterator")},d81d:function(e,t,r){"use strict";var c=r("23e7"),n=r("b727").map,o=r("1dde"),a=o("map");c({target:"Array",proto:!0,forced:!a},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(e,t,r){var c=r("23e7"),n=r("83ab"),o=r("56ef"),a=r("fc6a"),i=r("06cf"),d=r("8418");c({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,c=a(e),n=i.f,l=o(c),u={},s=0;while(l.length>s)r=n(c,t=l[s++]),void 0!==r&&d(u,t,r);return u}})},dc0d:function(e,t,r){"use strict";r.r(t);var c=r("7a23"),n={class:"container pt-4 pb-4 pt-lg-7 pb-lg-7"},o={class:"card"},a={class:"card-body"},i={class:"d-flex justify-content-md-between pr-3 mb-4"},d=Object(c["createVNode"])("h2",{class:"h6 text-secondary"},"產品清單",-1),l={class:"table caption-top"},u=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("tr",null,[Object(c["createVNode"])("th",{scope:"col"},"產品名稱"),Object(c["createVNode"])("th",{scope:"col"},"評價"),Object(c["createVNode"])("th",{scope:"col"},"原價"),Object(c["createVNode"])("th",{scope:"col"},"售價"),Object(c["createVNode"])("th",{scope:"col"},"是否啟用"),Object(c["createVNode"])("th",{scope:"col"},"刪除")])],-1),s={class:"form-check form-switch"},b={key:0,class:"text-center text-muted",colspan:"5"},m=Object(c["createVNode"])("td",{class:"text-center text-muted",colspan:"5"},"無商品",-1),p={class:"d-flex justify-content-md-between"},f=Object(c["createTextVNode"])(" 目前有 "),g=Object(c["createTextVNode"])(" 項產品 ");function O(e,t,r,O,j,h){var v=Object(c["resolveComponent"])("Pagination"),y=Object(c["resolveComponent"])("ProductModal");return Object(c["openBlock"])(),Object(c["createBlock"])("div",n,[Object(c["createVNode"])("div",o,[Object(c["createVNode"])("div",a,[Object(c["createVNode"])("div",i,[d,Object(c["createVNode"])("button",{class:"btn btn-outline-primary rounded-pill shadow-sm",type:"button","aria-controls":"modifyProductItem",onClick:t[1]||(t[1]=function(e){return h.handleProductItem(null)})}," 建立新的產品 ")]),Object(c["createVNode"])("table",l,[u,Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(j.products,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:e.id},[Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.title),1),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.rate||"-"),1),Object(c["createVNode"])("td",null,"$ "+Object(c["toDisplayString"])(e.origin_price),1),Object(c["createVNode"])("td",null,"$ "+Object(c["toDisplayString"])(e.price),1),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])("input",{class:"form-check-input",type:"checkbox",checked:e.is_enabled,onChange:function(t){return h.toggleProductItemStatus(e)}},null,40,["checked","onChange"])])]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("button",{type:"button",class:"btn btn-sm btn-primary me-1","data-action":"remove",onClick:function(t){return h.handleProductItem(e)}}," 編輯 ",8,["onClick"]),Object(c["createVNode"])("button",{type:"button",class:"btn btn-sm btn-danger text-white","data-action":"remove",onClick:function(t){return h.deleteProductItem({id:e.id,title:e.title})}}," 刪除 ",8,["onClick"])])])})),128)),0===j.products.length?(Object(c["openBlock"])(),Object(c["createBlock"])("tr",b,[m])):Object(c["createCommentVNode"])("",!0)])]),Object(c["createVNode"])("div",p,[Object(c["createVNode"])("p",null,[f,Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(j.products.length),1),g]),Object(c["createVNode"])(v,{pageInfo:j.pageInfo,onChangePage:h.changePage},null,8,["pageInfo","onChangePage"])])])]),Object(c["createVNode"])(y,{ref:"productModal",productItem:j.currentProductItem,onSubmitProductItem:h.updateProductItem,onClearItem:h.initGenerateForm},null,8,["productItem","onSubmitProductItem","onClearItem"])])}var j=r("5530"),h=r("1da1"),v=(r("96cf"),r("d81d"),r("c740"),r("365c")),y=r("1799"),I=(r("a4d3"),r("e01a"),{ref:"modal",class:"modal",tabindex:"-1"}),V={class:"modal-dialog modal-xl"},N={class:"modal-content"},P={class:"modal-header"},w=Object(c["createVNode"])("h5",{class:"modal-title"},"產品資訊",-1),k={class:"modal-body"},x={class:"col-md-7"},C={class:"row"},D={class:"col-md-12"},B={class:"list-unstyled d-flex mb-2"},T={role:"uploadType",class:"me-3"},S=Object(c["createVNode"])("label",{for:"uploadImage"},"上傳圖片",-1),U={class:"nav-item",role:"uploadType"},M=Object(c["createVNode"])("label",{for:"inputImage"},"輸入圖片路徑",-1),_={key:0},$={class:"position-absolute bottom-0 end-0"},A={key:0,class:"fas fa-spinner fa-spin"},F={key:1,class:"input-group mb-3"},R={class:"shadow-sm mb-3"},L={class:"p-2"},E={class:"productImg rounded"},G={class:"position-absolute top-0 end-0"},H={class:"col-md-5"},J={class:"row align-items-end"},z={class:"mb-3"},q=Object(c["createVNode"])("label",{for:"title",class:"form-label"},"產品名稱",-1),K={class:"mb-3"},Q=Object(c["createVNode"])("label",{for:"description",class:"form-label"},"描述",-1),W={class:"mb-3"},X=Object(c["createVNode"])("label",{for:"content",class:"form-label"},"內容",-1),Y={class:"col-md-6 mb-3"},Z=Object(c["createVNode"])("label",{for:"originPrice",class:"form-label"},"原價",-1),ee={class:"col-md-6 mb-3"},te=Object(c["createVNode"])("label",{for:"price",class:"form-label"},"售價",-1),re={class:"col-md-4 mb-3"},ce=Object(c["createVNode"])("label",{for:"category",class:"form-label"},"類別",-1),ne={class:"col-md-4 mb-3"},oe=Object(c["createVNode"])("label",{for:"unit",class:"form-label"},"單位",-1),ae={class:"col-md-4 mb-3"},ie={class:"form-check"},de=Object(c["createVNode"])("label",{class:"form-check-label",for:"isEnabled"}," 啟用 ",-1),le={class:"mb-3"},ue={for:"rate",class:"form-label"},se=Object(c["createVNode"])("div",{class:"col-12"},[Object(c["createVNode"])("button",{type:"submit",class:"btn btn-primary text-white w-100 rounded-pill"}," 新增/編輯 ")],-1);function be(e,t,r,n,o,a){return Object(c["openBlock"])(),Object(c["createBlock"])("div",I,[Object(c["createVNode"])("div",V,[Object(c["createVNode"])("div",N,[Object(c["createVNode"])("div",P,[w,Object(c["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close","data-bs-backdrop":"static",onClick:t[1]||(t[1]=function(t){return e.$emit("clearItem")})})]),Object(c["createVNode"])("div",k,[Object(c["createVNode"])("form",{onSubmit:t[17]||(t[17]=Object(c["withModifiers"])((function(){return a.submitProductItem&&a.submitProductItem.apply(a,arguments)}),["prevent"])),class:"row g-4"},[Object(c["createVNode"])("div",x,[Object(c["createVNode"])("div",C,[Object(c["createVNode"])("div",D,[Object(c["createVNode"])("ul",B,[Object(c["createVNode"])("li",T,[Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"radio",value:1,name:"uploadType",id:"uploadImage",class:"me-1","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.uploadType=e}),disabled:o.images.length>=6},null,8,["disabled"]),[[c["vModelRadio"],o.uploadType]]),S]),Object(c["createVNode"])("li",U,[Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"radio",value:2,name:"uploadType",id:"inputImage",class:"me-1","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.uploadType=e})},null,512),[[c["vModelRadio"],o.uploadType]]),M])]),1===o.uploadType?(Object(c["openBlock"])(),Object(c["createBlock"])("div",_,[Object(c["createVNode"])("input",{type:"file",id:"customFile",class:"form-control mb-2",ref:"fileInput",accept:"image/*",onChange:t[4]||(t[4]=function(){return a.uploadFile&&a.uploadFile.apply(a,arguments)})},null,544),Object(c["createVNode"])("div",$,[o.fileUploading?(Object(c["openBlock"])(),Object(c["createBlock"])("i",A)):Object(c["createCommentVNode"])("",!0)])])):Object(c["createCommentVNode"])("",!0),2===o.uploadType?(Object(c["openBlock"])(),Object(c["createBlock"])("div",F,[Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",class:"form-control",placeholder:"圖片路徑","aria-label":"圖片路徑","aria-describedby":"updateTempImage","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.inputImage=e})},null,512),[[c["vModelText"],o.inputImage]]),Object(c["createVNode"])("button",{class:"btn btn-outline-secondary",type:"button",onClick:t[6]||(t[6]=function(){return a.updateTempImage&&a.updateTempImage.apply(a,arguments)})}," 新增圖片 ")])):Object(c["createCommentVNode"])("",!0)]),o.images.length>0?(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(o.images,(function(e,r){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"col-md-4",key:"img".concat(r)},[Object(c["createVNode"])("div",R,[Object(c["createVNode"])("div",L,[Object(c["createVNode"])("div",E,[Object(c["createVNode"])("img",{class:"rounded-start w-100 h-100",src:e.url},null,8,["src"])]),Object(c["withDirectives"])(Object(c["createVNode"])("input",{id:"mainImages".concat(r),type:"radio",name:"images",class:"me-1",value:e.id,"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.mainImgId=e})},null,8,["id","value"]),[[c["vModelRadio"],o.mainImgId]]),Object(c["createVNode"])("label",{for:"mainImages".concat(r)},"主要圖片",8,["for"]),Object(c["createVNode"])("div",G,[Object(c["createVNode"])("button",{class:"btn rounded-circle shadow-sm",type:"button",onClick:function(e){return a.deleteImg(r)}}," 🗑 ",8,["onClick"])])])])])})),128)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createVNode"])("div",H,[Object(c["createVNode"])("div",J,[Object(c["createVNode"])("div",z,[q,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[8]||(t[8]=function(e){return o.currentProductItem.title=e})},null,512),[[c["vModelText"],o.currentProductItem.title]])]),Object(c["createVNode"])("div",K,[Q,Object(c["withDirectives"])(Object(c["createVNode"])("textarea",{class:"form-control",id:"description",placeholder:"描述",row:"5","onUpdate:modelValue":t[9]||(t[9]=function(e){return o.currentProductItem.description=e})},null,512),[[c["vModelText"],o.currentProductItem.description]])]),Object(c["createVNode"])("div",W,[X,Object(c["withDirectives"])(Object(c["createVNode"])("textarea",{class:"form-control",id:"content",placeholder:"內容",row:"5","onUpdate:modelValue":t[10]||(t[10]=function(e){return o.currentProductItem.content=e})},null,512),[[c["vModelText"],o.currentProductItem.content]])]),Object(c["createVNode"])("div",Y,[Z,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"number",min:"0",class:"form-control",id:"originPrice","onUpdate:modelValue":t[11]||(t[11]=function(e){return o.currentProductItem.origin_price=e})},null,512),[[c["vModelText"],o.currentProductItem.origin_price,void 0,{number:!0}]])]),Object(c["createVNode"])("div",ee,[te,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"number",min:"0",class:"form-control",id:"price","onUpdate:modelValue":t[12]||(t[12]=function(e){return o.currentProductItem.price=e})},null,512),[[c["vModelText"],o.currentProductItem.price,void 0,{number:!0}]])]),Object(c["createVNode"])("div",re,[ce,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"category","onUpdate:modelValue":t[13]||(t[13]=function(e){return o.currentProductItem.category=e})},null,512),[[c["vModelText"],o.currentProductItem.category]])]),Object(c["createVNode"])("div",ne,[oe,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"unit","onUpdate:modelValue":t[14]||(t[14]=function(e){return o.currentProductItem.unit=e})},null,512),[[c["vModelText"],o.currentProductItem.unit]])]),Object(c["createVNode"])("div",ae,[Object(c["createVNode"])("div",ie,[Object(c["withDirectives"])(Object(c["createVNode"])("input",{class:"form-check-input",type:"checkbox",id:"isEnabled","onUpdate:modelValue":t[15]||(t[15]=function(e){return o.currentProductItem.is_enabled=e})},null,512),[[c["vModelCheckbox"],o.currentProductItem.is_enabled]]),de])]),Object(c["createVNode"])("div",le,[Object(c["createVNode"])("label",ue,"評價 - "+Object(c["toDisplayString"])(o.currentProductItem.rate),1),Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"range",class:"form-range w-100",min:"0",max:"5",step:"0.5",id:"rate","onUpdate:modelValue":t[16]||(t[16]=function(e){return o.currentProductItem.rate=e})},null,512),[[c["vModelText"],o.currentProductItem.rate]])]),se])])],32)])])])],512)}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,c=new Array(t);r<t;r++)c[r]=e[r];return c}function pe(e){if(Array.isArray(e))return me(e)}r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function fe(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r("fb6a"),r("b0c0");function ge(e,t){if(e){if("string"===typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?me(e,t):void 0}}function Oe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function je(e){return pe(e)||fe(e)||ge(e)||Oe()}r("7db0"),r("4de4"),r("a434"),r("99af");var he=r("e0ae"),ve={props:{isCreate:{type:Boolean},productItem:{type:Object}},mixins:[he["a"]],inject:["emitter"],emits:["clearItem","submitProductItem"],data:function(){return{fileUploading:!1,uploadType:1,currentProductItem:null,productModal:"",images:[],inputImage:"",mainImgId:""}},methods:{submitProductItem:function(){var e=this,t=this.currentProductItem.id;try{this.currentProductItem.imageUrl=this.images.find((function(t){return t.id===e.mainImgId})).url}catch(r){this.currentProductItem.imageUrl=""}this.currentProductItem.imagesUrl=this.images.filter((function(t){return t.id!==e.mainImgId})).map((function(e){return e.url})),this.$emit("submitProductItem",{isNew:!t,content:this.currentProductItem})},deleteImg:function(e){this.images[e].id===this.mainImgId&&(this.mainImgId=""),this.images.splice(e,1)},uploadFile:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,c,n,o,a,i,d,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.fileUploading=!0,r=e.$refs.fileInput.files[0],c=r.size,n=r.lastModified,o=1048576,!(c>=o)){t.next=8;break}e.emitter.emit("notice-message",{style:"danger",title:"檔案大小不得超過1GB"}),t.next=24;break;case 8:return t.prev=8,a=new FormData,a.append("file-to-upload",r),t.next=13,Object(v["y"])(a);case 13:i=t.sent,d=i.data,l=d.imageUrl,u=d.success,e.images.push({id:"new".concat(n),url:l}),e.$refs.fileInput.value="",e.fileUploading=!1,u?e.emitter.emit("notice-message",{style:"success",title:"上傳成功"}):e.emitter.emit("notice-message",{style:"danger",title:"上傳失敗"}),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](8),e.$vErrorNotice();case 24:case"end":return t.stop()}}),t,null,[[8,21]])})))()},updateTempImage:function(){var e="new".concat((new Date).getTime());this.images.push({id:e,url:this.inputImage}),this.inputImage=""}},watch:{productItem:function(e){this.currentProductItem=Object(j["a"])({},e);var t=this.currentProductItem,r=t.imageUrl,c=t.imagesUrl,n=r?[{id:"currentImg0",url:r}]:[];r&&(this.mainImgId="currentImg0");var o=c||[],a=o.filter((function(e){return Boolean(e)})).map((function(e,t){return{id:"currentImg".concat(t+1),url:e}}));this.images=[].concat(n,je(a))}},created:function(){this.currentProductItem=Object(j["a"])({},this.productItem)}};r("b0c8");ve.render=be;var ye=ve,Ie={components:{Pagination:y["a"],ProductModal:ye},data:function(){return{currentProductItem:null,products:[],productCount:0,pageInfo:{current_page:1,has_next:!1,has_pre:!1,total_pages:1},isCreateItem:!0}},methods:{generateItemForm:function(){return{title:"",category:"",origin_price:null,price:null,unit:"",description:"",content:"",is_enabled:!0,imageUrl:"",rate:5,imagesUrl:["","","","",""]}},fetchProductData:function(){var e=arguments,t=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){var c,n,o,a,i,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return c=e.length>0&&void 0!==e[0]?e[0]:1,r.prev=1,t.$vLoading(!0),r.next=5,Object(v["m"])(c);case 5:n=r.sent,o=n.data,a=o.products,i=o.pagination,d=o.success,d?(t.products=a.map((function(e){return Object(j["a"])(Object(j["a"])({},e),{},{is_enabled:Boolean(e.is_enabled)})})),t.pageInfo=i):t.$vHttpsNotice(n,"產品資料"),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](1),console.log(r.t0);case 13:return r.prev=13,t.$vLoading(!1),r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[1,10,13,16]])})))()},toggleProductItemStatus:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.currentProductItem=e,t.currentProductItem.is_enabled=!t.currentProductItem.is_enabled,r.next=4,t.submitProductItem({isNew:!1,content:t.currentProductItem});case 4:case"end":return r.stop()}}),r)})))()},deleteProductItem:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){var c,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(c=e.id,n=e.title,!window.confirm("你確定要刪除-".concat(n,"嗎？"))){r.next=14;break}return t.$vLoading(!0),r.prev=3,r.next=6,Object(v["k"])(c);case 6:o=r.sent,o.data.success&&t.fetchProductData(),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](3),t.$vLoading(!1),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[3,10]])})))()},submitProductItem:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){var c,n,o,a,i,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(c=e.isNew,n=e.content,r.prev=1,t.$vLoading(!0),o=n.id,!c){r.next=10;break}return r.next=7,Object(v["e"])({data:n});case 7:r.t0=r.sent,r.next=13;break;case 10:return r.next=12,Object(v["x"])({id:o,data:{data:n}});case 12:r.t0=r.sent;case 13:a=r.t0,i=a.data.success,i&&(t.$refs.productModal.closeModal(),o?(d=t.products.findIndex((function(e){return e.id===o})),-1!==d&&(t.products[d]=n)):t.fetchProductData()),t.$vHttpsNotice(a,"產品調整"),r.next=22;break;case 19:r.prev=19,r.t1=r["catch"](1),t.$vErrorNotice();case 22:return r.prev=22,t.$vLoading(!1),r.finish(22);case 25:case"end":return r.stop()}}),r,null,[[1,19,22,25]])})))()},handleProductItem:function(e){e?(this.currentProductItem=e,this.isCreateItem=!1):(this.currentProductItem=this.generateItemForm(),this.isCreateItem=!0),this.$refs.productModal.openModal()},updateProductItem:function(e){this.submitProductItem(e)},changePage:function(e){this.fetchProductData(e)},initGenerateForm:function(){this.currentProductItem=this.generateItemForm()},init:function(){this.initGenerateForm(),this.fetchProductData()}},created:function(){this.init()}};Ie.render=O;t["default"]=Ie},e01a:function(e,t,r){"use strict";var c=r("23e7"),n=r("83ab"),o=r("da84"),a=r("5135"),i=r("861d"),d=r("9bf2").f,l=r("e893"),u=o.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var s={},b=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof b?new u(e):void 0===e?u():u(e);return""===e&&(s[t]=!0),t};l(b,u);var m=b.prototype=u.prototype;m.constructor=b;var p=m.toString,f="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;d(m,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=p.call(e);if(a(s,e))return"";var r=f?t.slice(7,-1):t.replace(g,"$1");return""===r?void 0:r}}),c({global:!0,forced:!0},{Symbol:b})}},e439:function(e,t,r){var c=r("23e7"),n=r("d039"),o=r("fc6a"),a=r("06cf").f,i=r("83ab"),d=n((function(){a(1)})),l=!i||d;c({target:"Object",stat:!0,forced:l,sham:!i},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},fb6a:function(e,t,r){"use strict";var c=r("23e7"),n=r("861d"),o=r("e8b5"),a=r("23cb"),i=r("50c4"),d=r("fc6a"),l=r("8418"),u=r("b622"),s=r("1dde"),b=s("slice"),m=u("species"),p=[].slice,f=Math.max;c({target:"Array",proto:!0,forced:!b},{slice:function(e,t){var r,c,u,s=d(this),b=i(s.length),g=a(e,b),O=a(void 0===t?b:t,b);if(o(s)&&(r=s.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[m],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return p.call(s,g,O);for(c=new(void 0===r?Array:r)(f(O-g,0)),u=0;g<O;g++,u++)g in s&&l(c,u,s[g]);return c.length=u,c}})}}]);
//# sourceMappingURL=chunk-168fc410.75c9c9fd.js.map