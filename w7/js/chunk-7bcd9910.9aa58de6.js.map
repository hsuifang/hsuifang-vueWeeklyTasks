{"version":3,"sources":["webpack:///./src/views/Admin/Orders.vue","webpack:///./src/components/OrderModal.vue","webpack:///./src/components/OrderModal.vue?ab11","webpack:///./src/views/Admin/Orders.vue?28ae","webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?4ca8","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.array.find-index.js"],"names":["class","scope","colspan","width","src","orders","length","type","deleteAllOrders","isLoading","item","key","id","$filters","localeDateStr","create_at","user","name","products","product","prodcutKey","title","qty","unit","currency","total","is_paid","toggleOrderItemStatus","data-action","handleOrderItem","deleteOrderItem","pageInfo","changePage","ref","orderInfo","currentItem","submitOrderItem","tabindex","role","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","for","tempOrder","email","tel","address","localeTimeStr","paid_date","localeDateStrs","final_total","value","$emit","props","Object","default","mixins","modalMixin","data","watch","this","render","components","Pagination","OrderModal","current_page","has_next","has_pre","total_pages","isCreateItem","methods","fetchOrders","page","api","res","pagination","success","$vHttpNotice","$vErrorNotice","window","confirm","$vLoading","carts","$vHttpsNotice","content","couponId","$refs","orderModal","closeModal","idx","findIndex","openModal","updateOrderItem","info","init","created","disabled","num","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error","$","$findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","Array","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-7bcd9910.9aa58de6.js","sourcesContent":["<template>\n  <div class=\"container pt-4 pb-4 pt-lg-7 pb-lg-7\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <!-- create Btn -->\n        <div class=\"d-flex justify-content-md-between pr-3 mb-4\">\n          <h2 class=\"h6 text-secondary\">訂單清單</h2>\n        </div>\n        <div class=\"text-end mb-2\" v-if=\"orders.length > 0\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary rounded-pill px-3\"\n            @click=\"deleteAllOrders\"\n          >\n            刪除全部\n          </button>\n        </div>\n        <table class=\"table caption-top\">\n          <thead>\n            <tr>\n              <th scope=\"col\">購買時間</th>\n              <th scope=\"col\">姓名</th>\n              <th scope=\"col\">購買款項</th>\n              <th scope=\"col\">付款金額</th>\n              <th scope=\"col\">是否付款</th>\n              <th scope=\"col\">功能</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-if=\"isLoading\">\n              <td class=\"text-center text-muted\" colspan=\"5\">\n                <img width=\"100\" src=\"https://media.giphy.com/media/wnYB3vx9t6PXiq1ubB/giphy.gif\" />\n              </td>\n            </tr>\n            <template v-else>\n              <tr v-for=\"item in orders\" :key=\"item.id\">\n                <td>{{ $filters.localeDateStr(item.create_at) }}</td>\n                <td>{{ item.user.name }}</td>\n                <td>\n                  <ul class=\"list-unstyled\">\n                    <li v-for=\"(product, prodcutKey) in item.products\" :key=\"prodcutKey\">\n                      {{ product.product.title }}\n                      <span class=\"text-secondary\"\n                        >數量：{{ product.qty }} {{ product.product.unit }}</span\n                      >\n                    </li>\n                  </ul>\n                </td>\n                <td>{{ $filters.currency(item.total) }}</td>\n                <td>\n                  <div class=\"form-check form-switch\">\n                    <input\n                      class=\"form-check-input\"\n                      type=\"checkbox\"\n                      v-model=\"item.is_paid\"\n                      @change=\"toggleOrderItemStatus(item)\"\n                    />\n                  </div>\n                </td>\n                <td>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-sm btn-primary me-1\"\n                    data-action=\"remove\"\n                    @click=\"handleOrderItem(item)\"\n                  >\n                    編輯\n                  </button>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-sm btn-danger text-white\"\n                    data-action=\"remove\"\n                    @click=\"deleteOrderItem({ id: item.id, title: item.title })\"\n                  >\n                    刪除\n                  </button>\n                </td>\n              </tr>\n              <!-- no data -->\n              <tr v-if=\"orders.length === 0\" class=\"text-center text-muted\">\n                <td class=\"text-center text-muted\" colspan=\"6\">無商品</td>\n              </tr>\n            </template>\n          </tbody>\n        </table>\n        <div class=\"d-flex justify-content-md-between\">\n          <p>\n            目前有 <span>{{ orders.length }}</span> 項訂單\n          </p>\n          <Pagination :pageInfo=\"pageInfo\" @changePage=\"changePage\" />\n        </div>\n      </div>\n    </div>\n    <OrderModal ref=\"orderModal\" :orderInfo=\"currentItem\" @updateOrder=\"submitOrderItem\" />\n  </div>\n</template>\n<script>\nimport { apiGetOrders, apiUpdateOrder, apiDelOrder, apiDelOrderAll } from '@/api';\nimport Pagination from '@/components/Pagination.vue';\nimport OrderModal from '@/components/OrderModal.vue';\n\nexport default {\n  components: {\n    Pagination,\n    OrderModal,\n  },\n  data() {\n    return {\n      currentItem: {},\n      orders: [],\n      pageInfo: {\n        current_page: 1,\n        has_next: false,\n        has_pre: false,\n        total_pages: 1,\n      },\n      isCreateItem: true,\n      isLoading: false,\n    };\n  },\n  methods: {\n    // 取得產品資料\n    async fetchOrders(page = 1) {\n      try {\n        this.isLoading = true;\n        const res = await apiGetOrders(page);\n        const { orders, pagination, success } = res.data;\n        if (success) {\n          this.orders = orders;\n          this.pageInfo = pagination;\n        } else {\n          this.$vHttpNotice(res, '取得訂單資訊');\n        }\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    async toggleOrderItemStatus(item) {\n      this.isLoading = true;\n      this.currentItem = item;\n      await this.submitOrderItem(this.currentItem);\n      this.isLoading = false;\n    },\n    async deleteOrderItem({ id, title = '' }) {\n      if (window.confirm(`你確定要刪除${title}嗎？`)) {\n        this.isLoading = true;\n        try {\n          const res = await apiDelOrder(id);\n          if (res.data.success) {\n            this.fetchOrders(this.pageInfo.current_page);\n          }\n        } catch (error) {\n          this.isLoading = false;\n          this.$vErrorNotice();\n        }\n      }\n    },\n    async deleteAllOrders() {\n      this.$vLoading(true);\n      try {\n        const res = await apiDelOrderAll();\n        const { success } = res.data;\n        if (success) {\n          this.carts = [];\n          this.fetchOrders();\n        } else {\n          this.$vHttpsNotice(res, '刪除所有訂單');\n        }\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.$vLoading(false);\n      }\n    },\n    // 編輯\n    async submitOrderItem(content) {\n      try {\n        this.$vLoading(true);\n        const couponId = content.id;\n        const res = await apiUpdateOrder({ id: couponId, data: { data: content } });\n        const { success } = res.data;\n        if (success) {\n          this.$refs.orderModal.closeModal();\n          if (couponId) {\n            const idx = this.orders.findIndex((item) => item.id === couponId);\n            if (idx !== -1) {\n              this.orders[idx] = content;\n            }\n          } else {\n            this.fetchOrders();\n          }\n        }\n        this.$vHttpsNotice(res, '修改訂單資訊');\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.$vLoading(false);\n      }\n    },\n    // 觸發新增編輯按鈕\n    handleOrderItem(item) {\n      if (item) {\n        this.currentItem = item;\n        this.isCreateItem = false;\n      }\n      this.$refs.orderModal.openModal();\n    },\n    // [emit]\n    updateOrderItem(info) {\n      this.submitOrderItem(info);\n    },\n    changePage(page) {\n      this.fetchOrders(page);\n    },\n    init() {\n      this.fetchOrders();\n    },\n  },\n  created() {\n    this.init();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"orderModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>訂單細節</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body px-5 py-4\">\n          <div class=\"row\">\n            <div class=\"col-lg-5 mb-5\">\n              <h3 class=\"fs-6 bg-light rounded-pill px-4 py-3 fw-bold text-secondary\">用戶資料</h3>\n              <ul class=\"list-unstyled px-4\" v-if=\"tempOrder.user\">\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">姓名</h4>\n                  <p>{{ tempOrder.user.name }}</p>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">Email</h4>\n                  <p>{{ tempOrder.user.email }}</p>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">電話</h4>\n                  <p>{{ tempOrder.user.tel }}</p>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">地址</h4>\n                  <p>{{ tempOrder.user.address }}</p>\n                </li>\n              </ul>\n            </div>\n            <div class=\"col-lg-7\">\n              <h3 class=\"fs-6 bg-light rounded-pill px-4 py-3 fw-bold text-secondary\">訂單細節</h3>\n              <ul class=\"list-unstyled px-4 mb-4\">\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">訂單編號</h4>\n                  <p>{{ tempOrder.id }}</p>\n                </li>\n                <li class=\"d-flex justify-content-between align-items-center py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">下單時間</h4>\n                  <p>\n                    {{ $filters.localeDateStr(tempOrder.create_at) }}\n                    {{ $filters.localeTimeStr(tempOrder.create_at) }}\n                  </p>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">付款時間</h4>\n                  <p>\n                    <span v-if=\"tempOrder.paid_date\">\n                      {{ $filters.localeDateStrs(tempOrder.paid_date) }}\n                    </span>\n                    <span v-else>-</span>\n                  </p>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">付款狀態</h4>\n                  <p>\n                    <strong v-if=\"tempOrder.is_paid\" class=\"text-success\">已付款</strong>\n                    <span v-else class=\"text-muted\">尚未付款</span>\n                  </p>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">總金額</h4>\n                  <p>\n                    {{ $filters.currency(tempOrder.total) }}\n                  </p>\n                </li>\n              </ul>\n              <h3 class=\"fs-6 bg-light rounded-pill px-4 py-3 mb-3 fw-bold text-secondary\">\n                選購商品\n              </h3>\n              <ul class=\"list-unstyled px-4 mb-3\">\n                <li\n                  class=\"d-flex justify-content-between\"\n                  v-for=\"item in tempOrder.products\"\n                  :key=\"item.id\"\n                >\n                  <h3 class=\"fs-6\">{{ item.product.title }}</h3>\n                  <p>{{ item.qty }} / {{ item.product.unit }}</p>\n                  <p>{{ $filters.currency(item.final_total) }}</p>\n                </li>\n              </ul>\n              <div class=\"d-flex justify-content-end px-4\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    value=\"\"\n                    id=\"flexCheckDefault\"\n                    v-model=\"tempOrder.is_paid\"\n                  />\n                  <label class=\"form-check-label\" for=\"flexCheckDefault\">\n                    <span v-if=\"tempOrder.is_paid\">已付款</span>\n                    <span v-else>未付款</span>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('updateOrder', tempOrder)\">\n            修改付款狀態\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    orderInfo: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  mixins: [modalMixin],\n  data() {\n    return {\n      tempOrder: {},\n    };\n  },\n  watch: {\n    orderInfo() {\n      this.tempOrder = this.orderInfo;\n    },\n  },\n};\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=7730a786\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Orders.vue?vue&type=template&id=5586e02e\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"btn-group me-2\" role=\"group\" aria-label=\"First group\">\n    <button\n      type=\"button\"\n      class=\"btn btn-outline-primary\"\n      :disabled=\"!pageInfo.has_pre\"\n      @click=\"changePage(pageInfo.current_page - 1)\"\n    >\n      &lt;\n    </button>\n    <button\n      type=\"button\"\n      class=\"btn btn-outline-primary\"\n      :class=\"{ active: num === pageInfo.current_page }\"\n      v-for=\"num in pageInfo.total_pages\"\n      :key=\"`page${num}`\"\n      @click=\"changePage(num)\"\n    >\n      {{ num }}\n    </button>\n    <button\n      type=\"button\"\n      class=\"btn btn-outline-primary\"\n      :disabled=\"!pageInfo.has_next\"\n      @click=\"changePage(pageInfo.current_page + 1)\"\n    >\n      &gt;\n    </button>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'pagination',\n  props: {\n    pageInfo: {\n      type: Object,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    changePage(num) {\n      if (num !== this.pageInfo.current_page) {\n        this.$emit('changePage', num);\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=9a5ea98e\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n"],"sourceRoot":""}